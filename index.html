<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>PhCollect by cmstead</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>PhCollect</h1>
        <p>Sane collection objects for PHP</p>

        <p class="view"><a href="https://github.com/cmstead/phcollect">View the Project on GitHub <small>cmstead/phcollect</small></a></p>


        <ul>
          <li><a href="https://github.com/cmstead/phcollect/releases/download/v0.2.2/release.zip">Release <strong>v0.2.2</strong></a></li>
          <li><a href="https://github.com/cmstead/phcollect/tarball/master">Source <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/cmstead/phcollect">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>PhCollect is a collections library for PHP which wraps PHP arrays and provides specialized, chainable, functions for different collection types.  This library is extensible and inheritable. All collections are immutable by default, though extended collections like lists and maps have functions that allow for collection mutation.</p>


          <div>
              <h2>An example</h2>
              <p>
                  Though this example is rather contrived, you get the idea of what can be done.
              </p>
              <pre>
require_once("phcollect.php");

$exampleList = PHC::phlist(1, 2, 3, 4, 5, 6);

echo $exampleList->push(9)
                 ->map(function($value){
                    return $value * 8;
                 })
                 ->filter(function($value){
                    return $value % 6;
                 })
                 ->nth(1);
//output: 48

echo implode(", ", $exampleList->toArray());
//output: 1, 2, 3, 4, 5, 6, 9
              </pre>
          </div>

<h2>
<a name="current-functionality" class="anchor" href="#current-functionality"><span class="octicon octicon-link"></span></a>Current functionality</h2>

<h3>Static Functions</h3>

<ul>
    <li>every(array, callable $userFn)
        <ul>
            <li>Performs user defined function on each element</li>
            <li>escapable loop by returning false</li>
        </ul>
    </li>

    <li>filter(array, callable $comparator)
        <ul>
            <li>Returns collection of all elements in original collection which $locator returns true for</li>
        </ul>
    </li>

    <li>identity($value)
        <ul>
            <li>returns identity collection</li>
        </ul>
    </li>

    <li>intersect(array[, array/collection, ...])
        <ul>
            <li>Variable arity -- accepts 1+ arrays or collections to perform intersection with</li>
            <li>Returns original collection with intersection applied</li>
        </ul>
    </li>

    <li>map(array, callable $modifier)
        <ul>
            <li>Returns new collection with $modifier function applied to all members of original collection</li>
        </ul>
    </li>

    <li>partial(callable/array/string $userValue[, Mixed arguments])
        <ul>
            <li>Performs a right-partial application of passed values on provided function</li>
            <li>Accepts static functions as an array of names: array(class name, function name)</li>
            <li>Accepts internal static functions as a string: "function name"</li>
        </ul>
    </li>

    <li>union(array[, array/collection $dataset, ...])
        <ul>
            <li>Variable arity -- accepts 1+ arrays or collections to perform union with</li>
            <li>Returns original collection with union applied</li>
        </ul>
    </li>
</ul>

<h3>Collection Interface</h3>

<ul>
  <li>Core functions defined here</li>

    <li>every(callable $userFn)
        <ul>
            <li>Performs user defined function on each element</li>
            <li>escapable loop by returning false</li>
        </ul>
    </li>

    <li>filter(callable $comparator)
    <ul>
      <li>Returns collection of all elements in original collection which $locator returns true for</li>
    </ul>
  </li>
  
  <li>find(callable $locator)
    <ul>
      <li>Returns first element $locator returns true for</li>
    </ul>
  </li>

  <li>get(Mixed $index)
    <ul>
      <li>Returns collection value at the provided index</li>
    </ul>
  </li>
  
  <li>identity()
    <ul>
      <li>returns identity collection</li>
    </ul>
  </li>

  <li>length()
    <ul>
      <li>Returns count of elements in collection</li>
    </ul>
  </li>

  <li>map(callable $modifier)
    <ul>
      <li>Returns new collection with $modifier function applied to all members of original collection</li>
    </ul>
  </li>
  
  <li>partial(callable $userFn[, Mixed arguments])
    <ul>
      <li>Performs a right-partial application of passed values on provided function</li>
      <li>Accepts static functions as an array of names: array(class name, function name)</li>
      <li>Accepts internal static functions as a string: "function name"</li>
    </ul>
  </li>

  <li>toArray()
    <ul>
      <li>Returns a standard PHP associative of collection key/value pairs</li>
    </ul>
  </li>
</ul>

<h3>Tuples</h3>

<ul>
  <li>first()
    <ul>
      <li>Returns first element in tuple</li>
    </ul>
  </li>

  <li>fold(callable $userFn)
    <ul>
      <li>Returns the result of $userFn being applied serially, left to right, to each element using the previous result (like adding across all elements)</li>
    </ul>
  </li>

  <li>last
    <ul>
      <li>Returns last element in the tuple</li>
    </ul>
  </li>
  
  <li>nth(int $index)
    <ul>
      <li>Returns nth element in the tuple</li>
    </ul>
  </li>
  
  <li>rest()
    <ul>
      <li>Returns new tuple containing all elements but the first of the original collection</li>
    </ul>
  </li>
</ul>

<h3>Lists</h3>

<ul>
  <li>Inherits from tuple</li>
  
  <li>intersect(array/collection $dataset [...])
    <ul>
      <li>Variable arity -- accepts 1+ arrays or collections to perform intersection with</li>
      <li>Returns original collection with intersection applied</li>
    </ul>
  </li>

  <li>pop()
    <ul>
      <li>Pops last element from list and returns it</li>
    </ul>
  </li>
  
  <li>push(Mixed $value)
    <ul>
      <li>Pushes new value on to the end of the list. Returns the updated list</li>
    </ul>
  </li>
  
  <li>slice(int $offset[, int $length])
    <ul>
      <li>Returns a list containing a subset of the elements of the original based on the offset and length passed</li>
    </ul>
  </li>
  
  <li>sort([callable $comparator])
    <ul>
      <li>Sorts list elements either in PHP sort standard order or using a comparator function</li>
    </ul>
  </li>

  <li>union(array/collection $dataset [...])
    <ul>
      <li>Variable arity -- accepts 1+ arrays or collections to perform union with</li>
      <li>Returns original collection with union applied</li>
    </ul>
  </li>
</ul>

<h3>Maps</h3>

<ul>
  <li>set(PhTuple $tuple)
    <ul>
      <li>Adds key/value pair to map</li>
      <li>Tuple must be an ordered pair representing a key and a value</li>
    </ul>
  </li>
</ul>
<h2><a name="upcoming-development" class="anchor" href="#upcoming-development"><span class="octicon octicon-link"></span></a>Upcoming development</h2>

<ul>
    <li>thread(collection/array, function[, function, ...])

        <ul>
            <li>Performs serial execution of passed functions using the output of the previous as the right-most argument of the next</li>
            <li>Static only (collections implicitly allow function chaining/threading)</li>
        </ul>
    </li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/cmstead">cmstead</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>